package biz.ucc;

import java.time.LocalDate;
import java.util.HashMap;
import java.util.List;
import biz.user.UserDto;

public interface UserUcc {

  /**
   * Connecte l'utilisateur en vérifiant son pseudo et son mot de passe.
   * 
   * @param userAverif l'utilisateur à vérifier
   * @return un UserDto si le mot de passe et le pseudo correspondent, null sinon
   */

  UserDto seConnecter(String pseudo, String mdp);

  /**
   * Inscrit un nouvel utilisateur en vérifiant les différents attributs de l'utilisateur.
   * 
   * @param user le nouvel utilisateur à vérifier et à inscrire
   * @return un objet de type UserDto si l'inscription en base de données a réussie, null sinon
   */
  UserDto sinscrire(UserDto user);

  /**
   * Séléctionne un utilisateur en base de données avec son identifiant.
   *
   * @param userAverif l'utilisateur a trouvé dans la base de données
   * @return un objet de type UserDto si l'utilisateur est en base de données, null sinon
   */
  UserDto trouverUtilisateurById(UserDto userAverif);

  /**
   * Met à jour les données de l'utilisateur sauf le mot de passe.
   * 
   * @param user l'utilisateur dont il faut mettre à jour les données
   * @return un objet de type UserDto si la mise à jour à réussie, null sinon
   */
  UserDto updateInfoUtilisateur(int idUser, int userNumVersion, String nom, String prenom,
      LocalDate dateNaissance, String email, String tel);

  /**
   * Met à jour le mot de passe d'un utilisateur.
   * 
   * @param user l'utilisateur dont il faut mettre à jour le mot de passe
   * @param motDePasse le nouveau mot de passe
   * @return vrai si le mot de passe à été changé en base de données, faux sinon
   */
  UserDto updateMdpUtilisateur(int idUser, int userNumVersion, String mdpActuel,
      String newMotDePasse1, String newMotDePasse2);

  /**
   * Récupère et renvoie une liste d'utilisateurs pour l'année académique en cours.
   * 
   * @return une liste de UsersDto
   */
  List<UserDto> visualiserUsersAnneeCourante();


  int trouverNumVersion(int idUtilisateur);

  HashMap<String, Integer> getStudentsStats();

  HashMap<String, Integer> getStudentStats(int idUser);


}
