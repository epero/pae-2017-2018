FrontEnd.onInitPage('pageDashboardTeacher', function() {
	
	
	
	FrontEnd.onDisplayPage('pageDashboardTeacher', function() {
		console.log('onDisplayPage - pageDashBoardTeacher');
		$('body').removeClass().toggleClass('theme-teal');
		showNavBar();
		//if(myApp.getWhoAmI()!=null)
		//	$('#nbContacts').text('Contacts : ' + myApp.getWhoAmI().nbContacts);
	    google.charts.load('current', {'packages':['corechart']});
    	google.charts.setOnLoadCallback(drawChartTeacher);
	});
	
	FrontEnd.onLeavePage('pageDashboardTeacher', function() {
		$('#notification').html('');
	});

	function drawChartTeacher() {
		
		var stats;
		
		config = {
			'data': {
				'action': 'fillChartTeacher'
			},
			'success': function (reponse) {
				stats =reponse;
				
				console.log(stats);
				console.log(stats.aucuncontact);
		        var data = google.visualization.arrayToDataTable([
		          ['Task', 'Hours per Day'],
		          ['Aucun Contact', stats.aucuncontact],
		          ['Contacts Initiés', stats.contactinities],
		          ['Contact Accepté', stats.contactacceptes],
		          ['Stage en ordre', stats.contactstageenordre]
		        ]);

		        var options = {
		        		chartArea:{width:'100%',height:'70%'},
		        		legend:{position:'bottom'}
		        };

		        var chart = new google.visualization.PieChart(document.getElementById('piechartTeacher'));

		        chart.draw(data, options);
			}
		}
		myApp.myajax(config);
		
    }
});