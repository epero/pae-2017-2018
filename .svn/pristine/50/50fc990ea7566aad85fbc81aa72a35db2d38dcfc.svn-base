package dal.dao;

import java.util.ArrayList;
import java.util.List;
import biz.factory.BizFactory;
import biz.pdc.PersonneContactDto;
import dal.services.DalServices;
import util.AppContext.DependanceInjection;

public class MockPersonneContactDaoImpl implements PersonneContactDao {

  @DependanceInjection
  private BizFactory factory;

  @DependanceInjection
  private DalServices dalServices;

  @Override
  public List<PersonneContactDto> getPersonnesContactByIdEntreprise(int idEntreprise) {
    dalServices.startTransaction();
    List<PersonneContactDto> personnesContactDto = new ArrayList<PersonneContactDto>();
    if (idEntreprise <= 0 || idEntreprise == Integer.MAX_VALUE) {
      dalServices.rollback();
      return personnesContactDto;
    }
    PersonneContactDto personne = factory.getPersonneContactVide();
    personne.setEntreprise(idEntreprise);
    personnesContactDto.add(personne);
    dalServices.commitTransaction();
    return personnesContactDto;
  }

  @Override
  public PersonneContactDto insertPersonneContact(PersonneContactDto personneContact) {

    if (personneContact.getEntreprise() == Integer.MAX_VALUE) {
      return null;
    }

    if (personneContact.getIdPersonneContact() <= 0) {
      return null;
    }

    PersonneContactDto personne = factory.getPersonneContactVide();
    personne.setIdPersonneContact(personneContact.getIdPersonneContact());
    personne.setNom(personneContact.getNom());
    personne.setPrenom(personneContact.getPrenom());
    personne.setEmail(personneContact.getEmail());
    personne.setTel(personneContact.getTel());
    personne.setEntreprise(personneContact.getEntreprise());

    return personne;
  }

  @Override
  public PersonneContactDto getPersonneContact(int idPersonneContact) {
    // TODO Auto-generated method stub
    return null;
  }

  @Override
  public boolean personneDeContactAppartientEntreprise(int idPersonneContact, int idEntreprise) {
    // TODO Auto-generated method stub
    return false;
  }

}
