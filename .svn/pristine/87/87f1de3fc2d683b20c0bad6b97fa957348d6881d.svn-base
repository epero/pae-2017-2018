package dal.dao;

import org.mindrot.jbcrypt.BCrypt;
import biz.factory.BizFactory;
import biz.user.UserDTO;
import util.AppContext.dependanceInjection;

class MockUserDAOImpl implements UserDAO {

  private boolean getUser;

  @dependanceInjection
  private BizFactory factory;

  public MockUserDAOImpl(boolean getUser) {
    this.getUser = getUser;
  }

  @Override
  public UserDTO getUser(String pseudo) {
    this.getUser = true;
    String motDePasse = "azerty";
    UserDTO user = factory.getUser();
    user.setMdp(BCrypt.hashpw(motDePasse, BCrypt.gensalt()));
    return user;

  }

  public boolean verify(boolean getUser) {
    return this.getUser == getUser;
  }

}
