$(document).ready(function(){

    //Jquery validation règles & messages
    $("#form_advanced_validation").validate({
        rules: {
            pseudo: {
                required: true,
                minlength: 1,
                maxlength: 30
            },
            mdp: {
                required: true,
                minlength: 1,
                maxlength: 60
            },
            mdpVerif: {
                required: true,
                minlength: 1,
                maxlength: 60,
                equalTo: "#mdp"
            },
            nom: {
                required: true,
                minlength: 1,
                maxlength: 50
            },
            prenom: {
                required: true,
                minlength: 1,
                maxlength: 30
            },
            dateNaissance: {
                required: true
            },
            tel: {
                required: true,
                telVerif: true,
            },
            email: {
                minlength: 1,
                maxlength: 100,
                required: true,
                vinciMail: true
            }
        },
        messages: {
            pseudo: "Veuillez indiquer votre pseudo",
            mdp: "Veuillez indiquer votre mot de passe",
            mdpVerif: {
                required: "Veuillez indiquer votre confirmation de mot de passe",
                equalTo: "Les mots de passe ne correspondent pas"
            },
            nom: "Veuillez indiquer votre nom",
            prenom: "Veuillez indiquer votre prénom",
            dateNaissance: "Veuillez indiquer votre date de naissance",
            tel: {
                required: "veuillez indiquer votre numéro de téléphone",
                telVerif: "Le numéro dois commencer par +32 et contenir entre 11 et 12 chiffres",
            },
            email: {
                required: "Veuillez indiquer votre email",
                vinciMail: "Seul vinci.be ou student.vinci.be est accepté"
            },
        },
        highlight: function (input) {
            $(input).parents('.form-line').addClass('error');
        },
        unhighlight: function (input) {
            $(input).parents('.form-line').removeClass('error');
        },
        errorPlacement: function (error, element) {
            $(element).parents('.form-group').append(error);
        }
    });
});

//vérification input email jquery validation
jQuery.validator.addMethod("vinciMail", function(value, element){
    return this.optional(element) || /^.+@(vinci|student.vinci).be$/.test(value);
}, "Seul vinci.be ou student.vinci.be est accepté");

//vérification input tel jquery validation
jQuery.validator.addMethod("telVerif", function(value, element){
    return this.optional(element) || /\+32[0-9]{8,9}$/.test(value);
}, "Le numéro dois commencer par +32 et contenir entre 11 et 12 chiffres");

$(function() {

    $('#btn-signup').click(function(){
        console.log("Inscription !");
    });

    $('#btn-cancel').click(function(){
        FrontEnd.displayPage('pageLogin');
    });

    //Date picker configuration
    $('.datepicker').bootstrapMaterialDatePicker({
        format: 'DD/MM/YYYY',
        weekStart: 0,
        time: false,
        cancelText: 'Annuler',
        okText: 'Valider',
        maxDate: new Date(),
    });
});