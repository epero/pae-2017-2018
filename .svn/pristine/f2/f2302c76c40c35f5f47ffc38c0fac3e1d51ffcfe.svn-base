$(function () {
	// Adresse Stage Validation
    $('#formAdresseStage').validate({
    	rules: {
            'adresse': {
            	required: true
            },
            'numero': {
                number: true
            },
            'codepostal': {
                customcpbel: true
            },
            'ville': {
            	lettersonly: true
            },
            'datesignature': {
                customdate: true
            },
        },
        
        highlight: function (input) {
            $(input).parents('.form-line').addClass('error');
        },
        unhighlight: function (input) {
            $(input).parents('.form-line').removeClass('error');
        },
        errorPlacement: function (error, element) {
            $(element).parents('.form-group').append(error);
        }
    });
    
    // Ajouter Personne Contact Entreprise/Stage Validation
    $('#formNewPersonneContact, #formNewPersContDash').validate({
		rules: {
			nom: {
				required: true,
				minlength: 1,
				maxlength: 50
			},
			prenom: {
				required: true,
				minlength: 1,
				maxlength: 30,
			},
			email: {
				required: true,
				minlength: 1,
				maxlength: 50,
				mailVerif: true
			},
			tel: {
				required: true,
				minlength: 1,
				maxlength: 15,
				telVerif: true
			}
		},
		messages: {
			nom: "Veuillez indiquer un nom",
			prenom: "Veuillez indiquer un prénom",
			email: {
				required: "Veuillez indiquer un mail",
				mailVerif: "Veuillez indiquer un mail valide",
			},
			tel: {
				required: "Veuillez indiquer un téléphone",
				telVerif: "Veuillez indiquer un téléphone valide",
			},
		},
		highlight: function (input) {
			$(input).parents('.form-line').addClass('error');
		},
		unhighlight: function (input) {
			$(input).parents('.form-line').removeClass('error');
		},
		errorPlacement: function (error, element) {
			$(element).parents('.form-group').append(error);
		}
	});

    // Signup Validation
    //TODO changer l'id de ce formulaire
    $("#form_advanced_validation").validate({
        rules: {
            pseudo: {
                required: true,
                minlength: 1,
                maxlength: 30
            },
            mdp: {
                required: true,
                minlength: 1,
                maxlength: 60
            },
            mdpVerif: {
                required: true,
                minlength: 1,
                maxlength: 60,
                equalTo: "#mdp"
            },
            nom: {
                required: true,
                minlength: 1,
                maxlength: 50
            },
            prenom: {
                required: true,
                minlength: 1,
                maxlength: 30
            },
            dateNaissance: {
                required: true,
                dateNaissanceVerif: true
            },
            tel: {
                required: true,
                telVerif: true,
            },
            email: {
                minlength: 1,
                maxlength: 100,
                required: true,
                vinciMail: true
            }
        },
        messages: {
            pseudo: "Veuillez indiquer votre pseudo",
            mdp: "Veuillez indiquer votre mot de passe",
            mdpVerif: {
                required: "Veuillez indiquer votre confirmation de mot de passe",
                equalTo: "Les mots de passe ne correspondent pas"
            },
            nom: "Veuillez indiquer votre nom",
            prenom: "Veuillez indiquer votre prénom",
            dateNaissance: {
                required: "Veuillez indiquer votre date de naissance",
                dateNaissanceVerif: "Le date de naissance doit respecter le format indiqué"
            },
            tel: {
                required: "Veuillez indiquer votre numéro de téléphone",
                telVerif: "Le numéro doit commencer par +32 et contenir entre 11 et 12 chiffres",
            },
            email: {
                required: "Veuillez indiquer votre email",
                vinciMail: "Seul vinci.be ou student.vinci.be est accepté"
            },
        },
        highlight: function (input) {
            $(input).parents('.form-line').addClass('error');
        },
        unhighlight: function (input) {
            $(input).parents('.form-line').removeClass('error');
        },
        errorPlacement: function (error, element) {
            $(element).parents('.form-group').append(error);
        }
    });
    
    // Modifier Données Personnelles Validation
    $("#form-modif-donnees-perso").validate({
        rules: {
            pseudo: {
                minlength: 1,
                maxlength: 30
            },
            mdpActuel: {
                maxlength: 60
            },
            nouveauMdp1: {
                maxlength: 60
            },
            nouveauMdp2: {
                maxlength: 60,
                equalTo: "#nouveauMdp1"
            },
            nom: {
                required: true,
                maxlength: 50
            },
            prenom: {
                required: true,
                maxlength: 30
            },
            dateNaissance: {
                required: true,
                dateNaissanceVerif: true
            },
            tel: {
                required: true,
                telVerif: true,
            },
            email: {
                maxlength: 100,
                required: true,
                vinciMail: true
            }
        },
        messages: {
            pseudo: "Veuillez indiquer votre pseudo",
            mdpActuel: "Votre mot de passe est trop long",
            nouveauMdp1: "Votre mot de passe est trop long",
            nouveauMdp2: {
                maxlength: "Votre mot de passe est trop long",
                equalTo: "Les mots de passe ne correspondent pas"
            },
            nom: {
                required: "Veuillez indiquer un nom",
                maxlength: "Votre nom est trop long"
            },
            prenom: {
                required: "Veuillez indiquer un prénom",
                maxlength: "Votre prénom est trop long"
            },
            dateNaissance: {
                required: "Veuillez indiquer une date de naissance",
                dateNaissanceVerif: "Le date de naissance doit respecter le format indiqué"
            },
            tel: {
                required: "Veuillez indiquer votre numéro de téléphone",
                telVerif: "Le numéro doit commencer par +32 et contenir entre 11 et 12 chiffres",
            },
            email: {
                required: "Veuillez indiquer votre email",
                vinciMail: "Seul vinci.be ou student.vinci.be est accepté"
            },
        },
        highlight: function (input) {
            $(input).parents('.form-line').addClass('error focused');
        },
        unhighlight: function (input) {
            $(input).parents('.form-line').removeClass('error focused');
        },
        errorPlacement: function (error, element) {
            $(element).parents('.form-group').append(error);
        }
    });
    // Login Validation
    $('#formLogin').validate({
		messages: {
			pseudo: "Veuillez indiquer votre pseudo",
		mdp: "Veuillez indiquer votre mot de passe"
		},
		highlight: function (input) {
            $(input).parents('.form-line').addClass('error');
        },
        unhighlight: function (input) {
            $(input).parents('.form-line').removeClass('error');
        },
        errorPlacement: function (error, element) {
            $(element).parents('.form-line').after(error);
        }
	});
    
    // placer ici les autres validations

    // Custom Validations ===============================================================================
    //customdate
    $.validator.addMethod('customdate', function (value, element) {
    	return value.match(/^([0-2][0-9]|3[01])\/(0[0-9]|1[0-2])\/[0-9]{4}$/);
    },
        'La date doit respecter le format indiqué'
    );
    
    //customecodepostalbelgique
    $.validator.addMethod('customcpbel', function (value, element) {
    	return value.match(/^[1-9]{1}[0-9]{3}$/);
    },
    	'Le code postal est invalide'
    );
    
    //vérification input email jquery validation
	jQuery.validator.addMethod("vinciMail", function(value, element){
	    return value.match(/^.+@(vinci|student.vinci).be$/);
	}, 'Seul vinci.be ou student.vinci.be est accepté');
	
	//vérification input tel jquery validation
	jQuery.validator.addMethod("telVerif", function(value, element){
	    return value.match(/^\+32[0-9]{8,9}$/);
	}, 'Le numéro doit commencer par +32 et contenir entre 11 et 12 chiffres');
	
	//vérification input dateNaissance jquery validation
	jQuery.validator.addMethod("dateNaissanceVerif", function(value, element){
	    return value.match(/^([0-2][0-9]|3[01])\/(0[0-9]|1[0-2])\/[0-9]{4}$/);
	}, 'La date de naissance doit respecter le format indiqué');
	
	//vérification input email jquery validation
    jQuery.validator.addMethod("vinciMail", function (value, element) {
        return value.match(/^.+@(vinci|student.vinci).be$/);
    }, 'Seul vinci.be ou student.vinci.be est accepté');

    //vérification input tel jquery validation
    jQuery.validator.addMethod("telVerif", function (value, element) {
        return value.match(/^\+32[0-9]{8,9}$/);
    }, 'Le numéro doit commencer par +32 et contenir entre 11 et 12 chiffres');

    //vérification input dateNaissance jquery validation
    jQuery.validator.addMethod("dateNaissanceVerif", function (value, element) {
        return value.match(/^([0-2][0-9]|3[01])\/(0[0-9]|1[0-2])\/[0-9]{4}$/);
    }, 'Le date de naissance doit respecter le format indiqué');
    
  //vérification input email jquery validation
    jQuery.validator.addMethod("mailVerif", function (value, element) {
    	return value.match(/^.+@(.+)\..+$/);
    }, 'Veuillez indiquer un mail valide');
    
    // placer ici les autres custom validations
    
    //==================================================================================================
});